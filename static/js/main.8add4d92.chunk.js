(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,n){e.exports=n(235)},166:function(e,t,n){},215:function(e,t){},216:function(e,t){},217:function(e,t){},229:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);var a=n(12),o=n.n(a),i=n(118),r=n.n(i),s=(n(164),n(166),n(78)),c=n(79),l=n(89),u=n(80),d=n(90),h=n(102),m=n(64),g=n(120),f=n.n(g),p=n(101),v=n(95),k=n(239),w=(n(229),window.innerHeight),y=window.innerWidth,b=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={viewport:{width:y,height:w,latitude:41.4993,longitude:-81.6994,zoom:0,pitch:0,bearing:0},markerstart:{latitude:41.4993,longitude:-81.6994},marker:{latitude:41.4993,longitude:-81.6994},markerdest:{latitude:0,longitude:0},confirmshow:!1,haveDestination:!1,haveUsersLocation:!1,linelayerstuff:{id:"GeoJsonLayer",data:{type:"LineString",coordinates:[[0,0],[0,0]]},getLineWidth:12,getLineColor:[255,20,147]},directions:[],intervalNum:0},n.mapRef=o.a.createRef(),n.setPosition=function(){console.log("hello");navigator.geolocation.getCurrentPosition(function(e){n.setState({marker:{latitude:e.coords.latitude,longitude:e.coords.longitude},haveUsersLocation:!0})},function(e){console.log(e)},{enableHighAccuracy:!0})},n.handleViewportChange=function(e){n.setState({viewport:Object(h.a)({},n.state.viewport,e),linelayerstuff:{id:"GeoJsonLayer",data:{type:"LineString",coordinates:[[0,0],[0,0]]},getLineWidth:n.lineWidth(),getLineColor:[255,20,147]}})},n.handleGeocoderViewportChange=function(e){},n.lineWidth=function(e){return e>3082328?4e3:e>2e6?3e3:e>6e5?2e3:e>180770?1e3:e>81770?400:e>30770?300:e>10770?200:100},n.handleErrors=function(e){if(!e.ok)throw Error(e.statusText);return e},n.resultFunction=function(e){var t=[[n.state.marker.longitude,n.state.marker.latitude]],a=[];fetch("https://api.mapbox.com/directions/v5/mapbox/driving/"+n.state.marker.longitude+","+n.state.marker.latitude+";"+e.result.center[0]+","+e.result.center[1]+"?steps=true&geometries=geojson&access_token=pk.eyJ1IjoiZnJleW04MjciLCJhIjoiY2pwdWpwYW9rMGhqYzQ4cXoxZWRlMGo5YSJ9.3MH5rhVEWOMgzRtpmmLJHA").then(n.handleErrors).then(function(o){o.json().then(function(o){if("NoRoute"!==o.code){for(var i=o.routes[0].geometry.coordinates,r=o.routes[0].legs[0].steps,s=0;s<i.length;s++)t.push(i[s]);for(var c=0;c<r.length;c++)a.push(r[c].maneuver.instruction);var l=new v.a(n.state.viewport).fitBounds([[n.state.marker.longitude,n.state.marker.latitude],[e.result.center[0],e.result.center[1]]],{padding:30,offset:[-100,-100]});n.setState({viewport:{width:800,height:600,latitude:l.latitude,longitude:l.longitude,zoom:l.zoom,pitch:0,bearing:0,transitionDuration:1700},markerdest:{latitude:e.result.center[1],longitude:e.result.center[0]},confirmshow:!0,linelayerstuff:{id:"GeoJsonLayer",data:{type:"LineString",coordinates:t},getLineWidth:n.lineWidth(o.routes[0].distance),getLineColor:[255,20,147]},directions:a})}else console.log(o.code)})}).catch(function(e){console.log(e)})},n.confirmclick=function(){var e=setInterval(n.setPosition,2e3);n.setState({viewport:{width:800,height:600,latitude:n.state.markerstart.latitude,longitude:n.state.markerstart.longitude,zoom:14,pitch:0,bearing:0,transitionDuration:1700},confirmshow:!1,haveDestination:!0,linelayerstuff:{id:"GeoJsonLayer",data:{type:"LineString",coordinates:n.state.linelayerstuff.data.coordinates},getLineWidth:60,getLineColor:[255,20,147]},intervalNum:e})},n.endrouteclick=function(){n.setState({viewport:{width:y,height:w,latitude:n.state.marker.latitude,longitude:n.state.marker.longitude,zoom:14,pitch:0,bearing:0,transitionDuration:1700},haveDestination:!1,linelayerstuff:{id:"GeoJsonLayer",data:{type:"LineString",coordinates:[[0,0],[0,0]]},getLineWidth:0,getLineColor:[255,20,147]}}),clearInterval(n.state.intervalNum)},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){e.setState({viewport:{width:y,height:w,latitude:t.coords.latitude,longitude:t.coords.longitude,zoom:14,pitch:0,bearing:0},marker:{latitude:t.coords.latitude,longitude:t.coords.longitude},markerstart:{latitude:t.coords.latitude,longitude:t.coords.longitude},haveUsersLocation:!0})},function(e){console.log(e)},{enableHighAccuracy:!0})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(m.default,Object.assign({ref:this.mapRef},this.state.viewport,{mapboxApiAccessToken:"pk.eyJ1IjoiZnJleW04MjciLCJhIjoiY2pwdWpwYW9rMGhqYzQ4cXoxZWRlMGo5YSJ9.3MH5rhVEWOMgzRtpmmLJHA",mapStyle:"mapbox://styles/mapbox/streets-v10",onViewportChange:function(t){e.setState({viewport:t})}}),o.a.createElement(p.b,Object.assign({},this.state.viewport,{layers:[new p.a(this.state.linelayerstuff)]})),o.a.createElement(m.Marker,{latitude:this.state.markerstart.latitude,longitude:this.state.markerstart.longitude,offsetLeft:-25,offsetTop:-20},o.a.createElement("img",{className:"truckimg",alt:"",src:"https://i.imgur.com/3dgA0sR.png"})),this.state.haveDestination&&o.a.createElement(m.Marker,{latitude:this.state.marker.latitude,longitude:this.state.marker.longitude,offsetLeft:-25,offsetTop:-20},o.a.createElement("img",{className:"blip",alt:"",src:"https://webstockreview.net/images/location-clipart-transparent-background.png"})),this.state.confirmshow&&o.a.createElement(m.Marker,{latitude:this.state.markerdest.latitude,longitude:this.state.markerdest.longitude,offsetLeft:-25,offsetTop:-10},o.a.createElement("img",{className:"treasureimg",alt:"",src:"https://pngimg.com/uploads/treasure_chest/treasure_chest_PNG154.png"})),this.state.haveDestination&&o.a.createElement(m.Marker,{latitude:this.state.markerdest.latitude,longitude:this.state.markerdest.longitude,offsetLeft:-25,offsetTop:-10},o.a.createElement("img",{className:"treasureimg",alt:"",src:"https://pngimg.com/uploads/treasure_chest/treasure_chest_PNG154.png"})),!this.state.haveDestination&&o.a.createElement(f.a,{mapRef:this.mapRef,onViewportChange:this.handleGeocoderViewportChange,mapboxApiAccessToken:"pk.eyJ1IjoiZnJleW04MjciLCJhIjoiY2pwdWpwYW9rMGhqYzQ4cXoxZWRlMGo5YSJ9.3MH5rhVEWOMgzRtpmmLJHA",onResult:this.resultFunction,placeholder:"Search destination"})),o.a.createElement("div",{className:"overmap"},this.state.haveDestination&&o.a.createElement("p",{className:"directionp"},"Directions:",o.a.createElement("br",null),this.state.directions[0]),this.state.confirmshow&&o.a.createElement(k.a,{id:"ConfirmBtn",onClick:this.confirmclick,className:"confirmbtn",color:"success"},"Confirm Route"),this.state.haveDestination&&o.a.createElement(k.a,{id:"EndRouteBtn",onClick:this.endrouteclick,className:"endroutebtn",color:"danger"},"End Route")))}}]),t}(a.Component),L=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(231).config(),r.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[159,2,1]]]);
//# sourceMappingURL=main.8add4d92.chunk.js.map