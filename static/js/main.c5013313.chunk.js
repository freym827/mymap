(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,o){e.exports=o(235)},166:function(e,t,o){},215:function(e,t){},216:function(e,t){},217:function(e,t){},229:function(e,t,o){},235:function(e,t,o){"use strict";o.r(t);var n=o(13),a=o.n(n),i=o(118),r=o.n(i),s=(o(164),o(166),o(78)),l=o(79),c=o(89),u=o(80),d=o(90),g=o(102),h=o(70),m=o(120),f=o.n(m),p=o(101),v=o(95),k=o(239),y=(o(229),window.innerHeight),b=window.innerWidth,w=function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={viewport:{width:b,height:y,latitude:41.4993,longitude:-81.6994,zoom:0,pitch:0,bearing:0},markerstart:{latitude:41.4993,longitude:-81.6994},marker:{latitude:41.4993,longitude:-81.6994},markerdest:{latitude:0,longitude:0},haveDestination:!1,haveUsersLocation:!1,linelayerstuff:{id:"GeoJsonLayer",data:{type:"LineString",coordinates:[[0,0],[0,0]]},getLineWidth:12,getLineColor:[255,20,147]},directions:[]},o.mapRef=a.a.createRef(),o.setPosition=function(){console.log("hello");navigator.geolocation.getCurrentPosition(function(e){o.setState({viewport:{width:b,height:y,latitude:o.state.viewport.latitude,longitude:o.state.viewport.longitude,zoom:o.state.viewport.zoom,pitch:0,bearing:0},marker:{latitude:e.coords.latitude,longitude:e.coords.longitude},haveUsersLocation:!0})},function(e){console.log(e)},{enableHighAccuracy:!0})},o.handleViewportChange=function(e){o.setState({viewport:Object(g.a)({},o.state.viewport,e),linelayerstuff:{id:"GeoJsonLayer",data:{type:"LineString",coordinates:[[0,0],[0,0]]},getLineWidth:o.lineWidth(),getLineColor:[255,20,147]}})},o.handleGeocoderViewportChange=function(e){},o.lineWidth=function(e){return e>3082328?4e3:e>2e6?3e3:e>6e5?2e3:e>180770?1e3:e>81770?400:e>30770?300:e>10770?200:100},o.handleErrors=function(e){if(!e.ok)throw Error(e.statusText);return e},o.resultFunction=function(e){var t=[[o.state.marker.longitude,o.state.marker.latitude]],n=[];fetch("https://api.mapbox.com/directions/v5/mapbox/driving/"+o.state.marker.longitude+","+o.state.marker.latitude+";"+e.result.center[0]+","+e.result.center[1]+"?steps=true&geometries=geojson&access_token=pk.eyJ1IjoiZnJleW04MjciLCJhIjoiY2pwdWpwYW9rMGhqYzQ4cXoxZWRlMGo5YSJ9.3MH5rhVEWOMgzRtpmmLJHA").then(o.handleErrors).then(function(a){a.json().then(function(a){if("NoRoute"!==a.code){console.log(a);for(var i=a.routes[0].geometry.coordinates,r=a.routes[0].legs[0].steps,s=0;s<i.length;s++)t.push(i[s]);for(var l=0;l<r.length;l++)n.push(r[l].maneuver.instruction);var c=new v.a(o.state.viewport).fitBounds([[o.state.marker.longitude,o.state.marker.latitude],[e.result.center[0],e.result.center[1]]],{padding:20,offset:[-100,-100]});o.setState({viewport:{width:800,height:600,latitude:c.latitude,longitude:c.longitude,zoom:c.zoom,pitch:0,bearing:0,transitionDuration:1700},markerdest:{latitude:e.result.center[1],longitude:e.result.center[0]},haveDestination:!0,linelayerstuff:{id:"GeoJsonLayer",data:{type:"LineString",coordinates:t},getLineWidth:o.lineWidth(a.routes[0].distance),getLineColor:[255,20,147]},directions:n});var u=setInterval(o.setPosition,2e3);document.getElementById("EndRouteBtn").setAttribute("data-interval",u)}else console.log(a.code)})}).catch(function(e){console.log(e)})},o.endrouteclick=function(){o.setState({viewport:{width:b,height:y,latitude:o.state.marker.latitude,longitude:o.state.marker.longitude,zoom:14,pitch:0,bearing:0,transitionDuration:1700},haveDestination:!1,linelayerstuff:{id:"GeoJsonLayer",data:{type:"LineString",coordinates:[[0,0],[0,0]]},getLineWidth:0,getLineColor:[255,20,147]}}),clearInterval(document.getElementById("EndRouteBtn").getAttribute("data-interval"))},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){e.setState({viewport:{width:b,height:y,latitude:t.coords.latitude,longitude:t.coords.longitude,zoom:14,pitch:0,bearing:0},marker:{latitude:t.coords.latitude,longitude:t.coords.longitude},markerstart:{latitude:t.coords.latitude,longitude:t.coords.longitude},haveUsersLocation:!0})},function(e){console.log(e)},{enableHighAccuracy:!0})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(h.default,Object.assign({ref:this.mapRef},this.state.viewport,{mapboxApiAccessToken:"pk.eyJ1IjoiZnJleW04MjciLCJhIjoiY2pwdWpwYW9rMGhqYzQ4cXoxZWRlMGo5YSJ9.3MH5rhVEWOMgzRtpmmLJHA",mapStyle:"mapbox://styles/mapbox/streets-v10",onViewportChange:function(t){e.setState({viewport:t})}}),a.a.createElement(p.b,Object.assign({},this.state.viewport,{layers:[new p.a(this.state.linelayerstuff)]})),a.a.createElement(h.Marker,{latitude:this.state.markerstart.latitude,longitude:this.state.markerstart.longitude,offsetLeft:-25,offsetTop:-20},a.a.createElement("img",{className:"truckimg",alt:"",src:"https://i.imgur.com/3dgA0sR.png"})),a.a.createElement(h.Marker,{latitude:this.state.marker.latitude,longitude:this.state.marker.longitude,offsetLeft:-25,offsetTop:-20},a.a.createElement("img",{className:"blip",alt:"",src:"https://i.imgur.com/LpQzh2O.jpg"})),this.state.haveDestination&&a.a.createElement(h.Marker,{latitude:this.state.markerdest.latitude,longitude:this.state.markerdest.longitude,offsetLeft:-25,offsetTop:-10},a.a.createElement("img",{className:"treasureimg",alt:"",src:"https://pngimg.com/uploads/treasure_chest/treasure_chest_PNG154.png"})),a.a.createElement(f.a,{mapRef:this.mapRef,onViewportChange:this.handleGeocoderViewportChange,mapboxApiAccessToken:"pk.eyJ1IjoiZnJleW04MjciLCJhIjoiY2pwdWpwYW9rMGhqYzQ4cXoxZWRlMGo5YSJ9.3MH5rhVEWOMgzRtpmmLJHA",onResult:this.resultFunction})),this.state.haveDestination&&a.a.createElement(k.a,{id:"EndRouteBtn",onClick:this.endrouteclick,className:"endroutebtn",color:"danger"},"End Route"))}}]),t}(n.Component),L=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(w,null))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o(231).config(),r.a.render(a.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[159,2,1]]]);
//# sourceMappingURL=main.c5013313.chunk.js.map